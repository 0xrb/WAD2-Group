{% extends "base.html" %}
{% load staticfiles %}

{% block content %}

<style>
    img {
        max-width: 100%;
    }
</style>
<div class="jumbotron" style="background-color:#ED5656">
    <div class="container">
        <h1 class="display-3">Vote</h1>
        <p>Vote on dogs :3</p>
    </div>
</div>
<div class="container">

    {% for id,url in output.items %}
    {% with 'bestboy/img/dog_pics/dog'|add:url|add:'.jpg' as image_path %}
    <img class="img-fluid mx-auto d-block" src="{% static image_path %}" />
    {% endwith %}
    {% endfor %}

</div>

<div class="container">
    <div class="row">
        <div class="col align-self-center" style="padding-top: 2%">
            <form method="post">
                {% csrf_token %}
                <style data="thumbStyle" type="text/css">
                </style>

                <input type="range" min="1" max="100" value="50" class="slider" id="rating">
        </div>
    </div>

    <div class="row">
        <div class="col align-self-center" style="padding-top: 2%">
            </br>
            <!-- <input type="submit" class="btn btn-primary btn-lg" /> -->
            <button type="button" class="btn btn-outline-success">Score: <span id="demoOutput"></span>/10</button>
            <input type="hidden" , name="slider_value" , id="slider_value">
            <input type="hidden" , name="dog_id" , id="dog_id">

        </div>
    </div>
</div>
<div class="container">
        <div class="row">
            <div class="col align-self-center">
                <div class="form-group">
                    <label for="comment">Comment:</label>
                    <textarea class="form-control" rows="5" id="comment" placeholder="Be nice woof :)"></textarea>
                    <input class="btn btn-primary btn-lg" type="submit" value="Submit" />

                </div>
            </div>
        </div>
    </form>
</div>
<hr>

<div class="container">
    <div class="row">
        <div class="col align-self-center">
            <p>{USERNAME}</p>
            <p> This dog is a goodboy.</p>
        </div>
    </div>
</div>

<script>
    var slider = document.getElementById("rating");
    var output = document.getElementById("demoOutput");
    var style = document.querySelector('[data="thumbStyle"]');

    setData(slider.value / 10);

    slider.oninput = function () {
        setData(this.value / 10);
    }

    function setData(x) {
        output.innerHTML = x;
        var size = 75 + x * 5;
        style.innerHTML = ".slider::-moz-range-thumb { width: " + size + "px !important; height: " + size + "px !important; background-position: center center; background-repeat: no-repeat; background-size: cover;} .slider::-webkit-slider-thumb { width: " + size + "px !important; height: " + size + "px !important; background-position: center center; background-repeat: no-repeat; background-size: cover;}";
        document.getElementById('slider_value').value = slider.value / 10;
        document.getElementById('dog_id').value

    }
</script>


{% endblock %}